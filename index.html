<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="./css/styles.css"/>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>
<body>

<h1>
    Draw over image
</h1>
<div class="wrapper">
    <canvas id="signature-pad" class="signature-pad" width=400 height=200></canvas>
</div>
<div>
    <button id="save">Save</button>
    <button id="clear">Clear</button>
</div>

<form id="imgur">
    <input type="file" class="imgur" accept="image/*" data-max-size="5000"/>
</form>

<script type="text/javascript">

    var signaturePad = new SignaturePad(document.getElementById('signature-pad'), {
        backgroundColor: 'rgba(255, 255, 255, 0)',
        penColor: 'rgb(0, 0, 0)'
    });
    var saveButton = document.getElementById('save');
    var cancelButton = document.getElementById('clear');

    saveButton.addEventListener('click', function (event) {
        var data = signaturePad.toDataURL('image/png');
        console.log(data);
// Send data to server instead...
        // TODO Chen : call this function with ajax and add window open for telegram web
        window.open('https://us-central1-faq-wlwnhq.cloudfunctions.net/helloWorld');
    });

    cancelButton.addEventListener('click', function (event) {
        signaturePad.clear();
    });

</script>

</body>
</html>
